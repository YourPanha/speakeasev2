<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Run Model</title>
    <link rel="stylesheet" href="style.css">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&family=Ovo&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

        /* Assistant button styles */
        .assistant-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #4682B4;
            color: white;
            font-size: 24px;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease;
        }

        .assistant-button:hover {
            transform: scale(1.1);
        }

        /* Assistant iframe container */
        .assistant-container {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 70%;
            max-width: 400px;
            height: 70vh;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
            z-index: 999;
            overflow: hidden;
            display: none;
            transition: all 0.3s ease;
        }

        .assistant-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background-color: #4682B4;
            color: white;
        }

        .assistant-title {
            font-weight: 600;
            font-family: 'Poppins', sans-serif;
        }

        .assistant-close {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
        }

        .assistant-iframe {
            width: 100%;
            height: calc(100% - 40px);
            border: none;
        }

        /* Overlay for closing when clicking outside */
        .assistant-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.3);
            z-index: 998;
            display: none;
        }
    </style>
</head>

<body>

    <div class="main">
        <div class="nav-container">
            <nav class="nav">
                <ul>
                    <li> <a href="index.html">Home</a> </li>
                    <li> <a href="https://rvhieriger.vercel.app/">doubt</a> </li>
                    <li> <a href="https://texttoani.vercel.app/">Learn</a> </li>
                    <li> <button class="login">SignUp</button> </li>
                </ul>
            </nav>
        </div>

        <div class="container">
            <div class="img1">
                <img src="mute.jpg" alt="mute " width="400px" height="500px">
            </div>
            <div class="img2">
                <img src="bubble.jpeg" width="200px" alt="">
            </div>

            <div class="text">
                <h1>SPEAKEASE</h1>
                <h3>Where signs find their voice</h3>

                <p class="mm">Camera-Based AI Hand Sign Language Detection to Text and Audio
                    Text to Animated Hand Sign Language Conversion
                    Learning Support for Video Calls and Doubt Resolution
                    AI Chatbot Support for Dictionary Assistance and Customer Service</p>
            </div>
        </div>
        <button class="button1" onclick="runModel()">Interact</button>
        <p id="response"></p>
        <div class="line"></div>
        <div class="btn">
            <a href="https://texttoani.vercel.app/">Learn</a>
        </div>
    </div>

    <!-- Assistant Button -->
    <button class="assistant-button" id="assistantButton">ðŸ¤–</button>

    <!-- Assistant Overlay -->
    <div class="assistant-overlay" id="assistantOverlay"></div>

    <!-- Assistant Container -->
    <div class="assistant-container" id="assistantContainer">
        <div class="assistant-header">
            <div class="assistant-title">SPEAKEASE Assistant</div>
            <button class="assistant-close" id="assistantClose">âœ–</button>
        </div>
        <iframe class="assistant-iframe" id="assistantIframe" src="https://ai-customer-navy.vercel.app/"></iframe>
    </div>

    <script>
        function runModel() {
            fetch('http://127.0.0.1:5000/run-model')
                .then(response => response.json())
                .then(data => {
                    document.getElementById("response").innerText = data.message || data.error;
                })
                .catch(error => console.error("Error:", error));
        }

        // Assistant functionality
        document.addEventListener('DOMContentLoaded', function () {
            const button = document.getElementById('assistantButton');
            const container = document.getElementById('assistantContainer');
            const closeBtn = document.getElementById('assistantClose');
            const overlay = document.getElementById('assistantOverlay');

            // Toggle assistant when button is clicked
            button.addEventListener('click', function () {
                if (container.style.display === 'block') {
                    hideAssistant();
                } else {
                    showAssistant();
                }
            });

            // Close assistant when X is clicked
            closeBtn.addEventListener('click', function () {
                hideAssistant();
            });

            // Close assistant when clicking outside
            overlay.addEventListener('click', function () {
                hideAssistant();
            });

            function showAssistant() {
                container.style.display = 'block';
                overlay.style.display = 'block';
                // Animation effect
                setTimeout(() => {
                    container.style.opacity = '1';
                    container.style.transform = 'translateY(0)';
                }, 10);
            }

            function hideAssistant() {
                container.style.opacity = '0';
                container.style.transform = 'translateY(20px)';
                overlay.style.display = 'none';
                setTimeout(() => {
                    container.style.display = 'none';
                }, 300);
            }
        });
    </script>
    <script src="script.js"></script>
</body>

</html>